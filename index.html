<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina Luxe | Premium Sanctuary</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: { lilacMist: '#F5F3FF', royalAmethyst: '#7C3AED', midnightPlum: '#2E1065', softViolet: '#EDE9FE' },
                    fontFamily: { serif: ['Playfair Display', 'serif'], sans: ['Inter', 'sans-serif'] }
                }
            }
        }
    </script>
</head>
<body class="font-sans text-midnightPlum bg-lilacMist">
    <div id="root"></div>

    <script type="text/babel">
        const REPO_OWNER = "nixiwebbusiness-maker";
        const REPO_NAME = "lumina-luxe-sage";

        function App() {
            const [siteData, setSiteData] = React.useState(null);
            const [isAdmin, setIsAdmin] = React.useState(false);
            const [selectedCat, setSelectedCat] = React.useState("Russian Style");

            React.useEffect(() => {
                fetch(`https://raw.githubusercontent.com/${REPO_OWNER}/${REPO_NAME}/main/data.json`)
                    .then(res => res.json())
                    .then(data => setSiteData(data))
                    .catch(err => console.error("Data load failed:", err));
            }, []);

            const handleSave = async () => {
                const token = prompt("Enter GitHub Token to Save Changes:");
                if (!token) return;

                try {
                    const fileRes = await fetch(`https://api.github.com/repos/${REPO_OWNER}/${REPO_NAME}/contents/data.json`);
                    const fileData = await fileRes.json();
                    const updatedContent = btoa(unescape(encodeURIComponent(JSON.stringify(siteData, null, 2))));

                    const response = await fetch('/api/update', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ content: updatedContent, sha: fileData.sha, token: token })
                    });

                    if (response.ok) {
                        alert("Website Updated Successfully!");
                        setIsAdmin(false);
                        window.location.reload();
                    } else {
                        alert("Update failed. Check token permissions.");
                    }
                } catch (e) { alert("Error: " + e.message); }
            };

            const updateGallery = (index, newUrl) => {
                const newGallery = [...siteData.gallery];
                newGallery[index] = newUrl;
                setSiteData({...siteData, gallery: newGallery});
            };

            if (!siteData) return <div className="h-screen flex items-center justify-center font-serif italic text-royalAmethyst text-2xl animate-pulse">Lumina Luxe...</div>;

            return (
                <div>
                    <button onClick={() => setIsAdmin(!isAdmin)} className="fixed bottom-4 right-4 z-[100] opacity-30 hover:opacity-100 bg-royalAmethyst text-white px-3 py-1 rounded-full text-[10px] font-bold shadow-lg transition-all">
                        {isAdmin ? "EXIT EDITOR" : "ADMIN"}
                    </button>

                    {isAdmin ? (
                        /* --- ADMIN EDITOR UI --- */
                        <div className="min-h-screen bg-lilacMist p-4 md:p-10 flex flex-col items-center">
                            <div className="bg-white w-full max-w-3xl p-6 md:p-10 rounded-[3rem] shadow-2xl space-y-8 border border-white">
                                <h2 className="text-3xl font-serif text-center text-royalAmethyst">Lumina Live Editor</h2>
                                
                                <div className="space-y-4">
                                    <h3 className="text-xs font-bold uppercase tracking-[0.2em] text-gray-400">Header & Branding</h3>
                                    <input className="w-full p-4 bg-softViolet/30 rounded-2xl border-none focus:ring-2 focus:ring-royalAmethyst transition-all" placeholder="Brand Name" value={siteData.brand_name} onChange={e => setSiteData({...siteData, brand_name: e.target.value})} />
                                    <input className="w-full p-4 bg-softViolet/30 rounded-2xl border-none focus:ring-2 focus:ring-royalAmethyst transition-all" placeholder="Promo Banner" value={siteData.announcement} onChange={e => setSiteData({...siteData, announcement: e.target.value})} />
                                </div>

                                <div className="space-y
