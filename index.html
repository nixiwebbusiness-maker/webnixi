<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Premium Salon | Luxury Experience</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,600;1,500&family=Montserrat:wght@300;400;600&display=swap');
        body { font-family: 'Montserrat', sans-serif; background: #ffffff; scroll-behavior: smooth; }
        .serif { font-family: 'Cormorant Garamond', serif; }
        .gold-text { color: #C5A059; }
        .gold-bg { background: #C5A059; }
        .gold-border { border-color: #C5A059; }
    </style>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        function App() {
            const [data, setData] = React.useState(null);
            const [isAdmin, setIsAdmin] = React.useState(false);
            const ADMIN_PASSWORD = "admin123";

            React.useEffect(() => {
                fetch('data.json').then(res => res.json()).then(d => setData(d));
            }, []);

            const saveChanges = async () => {
                const fileRes = await fetch('https://api.github.com/repos/nixiwebbusiness-maker/lumina-luxe-sage/contents/data.json');
                const fileData = await fileRes.json();
                const b64 = btoa(unescape(encodeURIComponent(JSON.stringify(data, null, 2))));
                await fetch('/api/update', {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ content: b64, sha: fileData.sha })
                });
                window.location.reload();
            };

            const updateService = (idx, field, val) => {
                const newServices = [...data.services];
                newServices[idx][field] = val;
                setData({...data, services: newServices});
            };

            if (!data) return null;

            return (
                <div>
                    {isAdmin ? (
                        <div className="p-8 max-w-2xl mx-auto bg-white shadow-2xl rounded-[2rem] my-10 border-t-8 gold-border">
                            <h2 className="serif text-3xl gold-text text-center mb-6 italic">Salon Management Panel</h2>
                            <div className="space-y-6">
                                <input className="w-full p-4 border rounded-xl" value={data.brand_name} onChange={e => setData({...data, brand_name: e.target.value})} />
                                <div className="space-y-2">
                                    <p className="text-[10px] font-bold uppercase gold-text">Price Menu Editor</p>
                                    {data.services.map((s, i) => (
                                        <div key={i} className="flex gap-2">
                                            <input className="w-2/3 p-2 border text-xs" value={s.name} onChange={e => updateService(i, 'name', e.target.value)} />
                                            <input className="w-1/3 p-2 border text-xs text-right gold-text" value={s.price} onChange={e => updateService(i, 'price', e.target.value)} />
                                        </div>
                                    ))}
                                </div>
                                <button onClick={saveChanges} className="w-full gold-bg text-white py-5 rounded-2xl font-bold uppercase tracking-widest">Update Live Website</button>
                                <button onClick={() => setIsAdmin(false)} className="w-full text-gray-400 text-xs mt-2">Exit Editor</button>
                            </div>
                        </div>
                    ) : (
                        <div>
                            <div className="bg-black text-white text-[9px] py-2 text-center uppercase tracking-[0.3em]">{data.announcement}</div>
                            <nav className="p-6 flex justify-between items-center bg-white sticky top-0 z-50 border-b border-gray-100 shadow-sm">
                                <span className="serif text-4xl gold-text cursor-pointer select-none" onClick={(e) => e.shiftKey && prompt("Pass:") === ADMIN_PASSWORD && setIsAdmin(true)}>{data.brand_name}</span>
                                <button className="gold-bg text-white px-8 py-3 text-[10px] uppercase font-bold tracking-widest">Book Now</button>
                            </nav>

                            <header className="h-[80vh] relative flex items-center justify-center">
                                <img src={data.hero.image} className="absolute inset-0 w-full h-full object-cover grayscale-[20%]" />
                                <div className="absolute inset-0 bg-black/30"></div>
                                <div className="relative text-center text-white px-4">
                                    <h1 className="serif text-7xl md:text-[9rem] mb-4 italic leading-none">{data.brand_name}</h1>
                                    <p className="uppercase tracking-[0.6em] text-[10px]">Pure Artistry. Pure Luxury.</p>
                                </div>
                            </header>

                            <section id="pricing" className="py-32 bg-[#fafafa]">
                                <div className="max-w-4xl mx-auto px-6">
                                    <h2 className="serif text-6xl gold-text mb-20 text-center italic">Service Menu</h2>
                                    <div className="space-y-12">
                                        {data.services.map((item, idx) => (
                                            <div key={idx} className="flex justify-between items-end border-b border-gray-200 pb-4">
                                                <span className="serif text-2xl uppercase tracking-tighter">{item.name}</span>
                                                <span className="gold-text font-bold tracking-widest ml-4">{item.price}</span>
                                            </div>
                                        ))}
                                    </div>
                                </div>
                            </section>

                            <section id="gallery" className="py-32 px-10 max-w-7xl mx-auto grid md:grid-cols-3 gap-12">
                                {data.gallery.map((img, i) => (
                                    <div key={i} className="aspect-[3/4] overflow-hidden shadow-2xl border-8 border-white group">
                                        <img src={img} className="w-full h-full object-cover group-hover:scale-110 transition-transform duration-1000" />
                                    </div>
                                ))}
                            </section>

                            <footer className="py-20 bg-black text-white/30 text-center uppercase text-[8px] tracking-[0.5em]">
                                {data.brand_name} Salon Studio Â© 2026
                            </footer>
                        </div>
                    )}
                </div>
            );
        }
        ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
