<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lumina Luxe | Corporate Business OS v30.0 | Elite Edition</title>

    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        /* 1. CORE TYPOGRAPHY ENGINE
           --------------------------------------------------------------------------------------
        */
        @import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap');

        /* 2. GLOBAL BRAND VARIABLES
           --------------------------------------------------------------------------------------
        */
        :root {
            --brand-mahogany: #4A0E0E;
            --brand-rose-gold: #B76E79;
            --brand-cream: #FFFDFD;
            --brand-white: #FFFFFF;
            --admin-bg-shade: #F4F7FB;
            --admin-border-color: #E5EAF0;
            --transition-ultra: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
            --shadow-premium: 0 40px 100px -20px rgba(74, 14, 14, 0.12);
        }

        /* 3. RESET & BASE ARCHITECTURE
           --------------------------------------------------------------------------------------
        */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            outline: none;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Montserrat', sans-serif;
            background-color: var(--brand-cream);
            color: var(--brand-mahogany);
            line-height: 1.9;
            overflow-x: hidden;
            scroll-behavior: smooth;
            word-wrap: break-word;
        }

        .serif-font {
            font-family: 'Cormorant Garamond', serif;
        }

        /* 4. DYNAMIC WEBSITE TYPOGRAPHY RULES
           --------------------------------------------------------------------------------------
        */
        .web-title-large {
            color: #4A0E0E !important;
            font-weight: 900 !important;
            letter-spacing: -5px;
            text-transform: capitalize;
            line-height: 0.85;
            font-family: 'Cormorant Garamond', serif;
        }

        .sanctuary-title-fix {
            color: #4A0E0E !important;
            font-weight: 950 !important;
            font-style: italic;
        }

        .sanctuary-text-fix {
            color: #FFFFFF !important;
            opacity: 1 !important;
            font-weight: 300;
            font-family: 'Cormorant Garamond', serif;
            letter-spacing: 0.5px;
        }

        /* 5. ADMIN OS COMPONENT DESIGN
           --------------------------------------------------------------------------------------
        */
        .admin-canvas {
            background-color: var(--admin-bg-shade);
            min-height: 100vh;
            padding: 120px 60px;
            padding-bottom: 300px;
        }

        .admin-nav-panel {
            background: var(--brand-white);
            border-radius: 50px;
            padding: 60px 80px;
            margin-bottom: 80px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid var(--admin-border-color);
            box-shadow: 0 15px 50px rgba(0,0,0,0.02);
        }

        .admin-section-container {
            background: var(--brand-white);
            border-radius: 70px;
            padding: 90px;
            margin-bottom: 90px;
            border: 1px solid var(--admin-border-color);
            box-shadow: var(--shadow-premium);
        }

        .admin-field-label-text {
            display: block;
            font-size: 12px;
            font-weight: 950;
            color: #718096;
            text-transform: uppercase;
            letter-spacing: 4px;
            margin-bottom: 25px;
            margin-top: 50px;
        }

        .admin-input-premium-box {
            width: 100%;
            padding: 26px 40px;
            border: 2px solid #EDF2F7;
            border-radius: 35px;
            font-size: 16px;
            background: #FDFDFD;
            color: #2D3748;
            transition: var(--transition-ultra);
        }

        .admin-input-premium-box:focus {
            border-color: var(--brand-rose-gold);
            background: var(--brand-white);
            box-shadow: 0 0 0 12px rgba(183, 110, 121, 0.08);
            transform: translateY(-2px);
        }

        .admin-textarea-premium-box {
            width: 100%;
            min-height: 320px;
            padding: 35px 45px;
            border: 2px solid #EDF2F7;
            border-radius: 40px;
            font-size: 18px;
            background: #FDFDFD;
            color: #2D3748;
            resize: vertical;
            line-height: 1.7;
        }

        /* 6. BUTTON DESIGN SYSTEM
           --------------------------------------------------------------------------------------
        */
        .btn-brand-mahogany {
            background-color: #4A0E0E !important;
            color: #FFFFFF !important;
            padding: 25px 65px;
            border-radius: 120px;
            font-weight: 900;
            font-size: 13px;
            text-transform: uppercase;
            letter-spacing: 5px;
            border: none;
            cursor: pointer;
            transition: var(--transition-ultra);
            display: inline-block;
        }

        .btn-brand-mahogany:hover {
            transform: translateY(-10px) scale(1.05);
            box-shadow: 0 30px 60px rgba(74, 14, 14, 0.35);
        }

        .btn-deploy-global {
            position: fixed;
            bottom: 70px;
            left: 50%;
            transform: translateX(-50%);
            z-index: 99999;
            background: linear-gradient(135deg, #B76E79 0%, #4A0E0E 100%);
            color: white;
            padding: 40px 140px;
            border-radius: 120px;
            font-weight: 950;
            font-size: 22px;
            text-transform: uppercase;
            letter-spacing: 10px;
            box-shadow: 0 60px 120px rgba(74, 14, 14, 0.6);
            border: 10px solid white;
            cursor: pointer;
            transition: all 0.6s cubic-bezier(0.19, 1, 0.22, 1);
        }

        .btn-deploy-global:hover {
            transform: translateX(-50%) translateY(-10px);
            box-shadow: 0 80px 140px rgba(74, 14, 14, 0.7);
        }

        /* 7. VISUAL COMPONENTS & MASONRY
           --------------------------------------------------------------------------------------
        */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .masonry-grid-system {
            column-count: 1;
            column-gap: 60px;
        }
        @media (min-width: 768px) { .masonry-grid-system { column-count: 2; } }
        @media (min-width: 1440px) { .masonry-grid-system { column-count: 4; } }

        .gallery-item-wrapper {
            margin-bottom: 60px;
            break-inside: avoid;
            border-radius: 70px;
            overflow: hidden;
            border: 25px solid white;
            box-shadow: 0 35px 70px rgba(0,0,0,0.15);
            transition: var(--transition-ultra);
        }

        .gallery-item-wrapper:hover {
            transform: scale(1.05) rotate(-1deg);
        }

        /* 8. ANIMATION PROTOCOLS
           --------------------------------------------------------------------------------------
        */
        @keyframes masterFadeIn {
            0% { opacity: 0; transform: translateY(80px); }
            100% { opacity: 1; transform: translateY(0); }
        }

        .animate-master-entry {
            animation: masterFadeIn 1.8s cubic-bezier(0.19, 1, 0.22, 1) forwards;
        }

        .animate-slow-zoom {
            animation: slowZoom 40s linear infinite alternate;
        }

        @keyframes slowZoom {
            0% { transform: scale(1); }
            100% { transform: scale(1.3); }
        }

    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        /* ========================================================================================
           9. REACT ENTERPRISE LOGIC ENGINE (1000+ LINE TARGET)
           ========================================================================================
        */
        const { useState, useEffect, useRef, useMemo, useCallback } = React;

        function EliteApp() {
            // COMPREHENSIVE DATA STATES
            const [systemDb, setSystemDb] = useState(null);
            const [isAuth, setIsAuth] = useState(false);
            const [activeCategory, setActiveCategory] = useState('');
            const [focusedRitual, setFocusedRitual] = useState(null);
            const [isSyncing, setIsSyncing] = useState(false);

            // SYSTEM PROTOCOLS
            const MASTER_ACCESS_KEY = "admin123";
            const CLOUDINARY_API = "https://api.cloudinary.com/v1_1/dgoc9andq/image/upload";
            const CLOUDINARY_PRESET = "faysal";

            // 10. SYSTEM BOOTSTRAP INITIALIZATION
            useEffect(() => {
                const initializeSystem = async () => {
                    try {
                        console.log("OS: Initiating Database Fetch...");
                        const response = await fetch('data.json');
                        const data = await response.json();
                        
                        // DEEP SCHEMA MAPPING (EXPANDED TO PREVENT NULLS)
                        const schema = {
                            brand_name: data.brand_name || "Lumina Luxe",
                            logo: data.logo || "",
                            nav_configuration: data.nav_configuration || {
                                experience_label: "The Experience",
                                pricing_label: "Menu Rituals",
                                sanctuary_label: "The Sanctuary Story",
                                gallery_label: "The Visual Archive"
                            },
                            hero_unit: data.hero_unit || { 
                                main_title: "Elegance", 
                                sub_title: "A Private Narrative", 
                                background_image: "" 
                            },
                            service_matrix: data.service_matrix || {},
                            about_segment: data.about_segment || { 
                                narrative: "", 
                                visual: "" 
                            },
                            gallery_archive: data.gallery_archive || [],
                            footer_data: data.footer_data || { 
                                whatsapp_id: "", 
                                physical_address: "", 
                                working_hours: "", 
                                copyright_text: "" 
                            }
                        };

                        setSystemDb(schema);

                        // Initial Logic for Service UI
                        const firstCat = Object.keys(schema.service_matrix)[0];
                        if (firstCat) {
                            setActiveCategory(firstCat);
                            setFocusedRitual(schema.service_matrix[firstCat][0]);
                        }
                    } catch (err) {
                        console.error("OS CRITICAL ERROR: Database Connection Refused.");
                    }
                };
                initializeSystem();
            }, []);

            // 11. MEDIA INTEGRATION HANDLER (VERBOSE LOGIC)
            const syncAssetToCloud = async (e, updateFunc) => {
                const fileToSync = e.target.files[0];
                if (!fileToSync) return;

                console.log("OS: Preparing Media Payload...");
                const form = new FormData();
                form.append("file", fileToSync);
                form.append("upload_preset", CLOUDINARY_PRESET);

                try {
                    const res = await fetch(CLOUDINARY_API, {
                        method: "POST",
                        body: form
                    });
                    const result = await res.json();
                    
                    if (result.secure_url) {
                        updateFunc(result.secure_url);
                        alert("ASSET STATUS: Cloud Synchronization Successful.");
                    }
                } catch (error) {
                    alert("ASSET STATUS: Cloud Rejection.");
                }
            };

            // 12. PRODUCTION DEPLOYMENT MODULE (GITHUB SYNC)
            const deployToProduction = async () => {
                setIsSyncing(true);
                try {
                    const response = await fetch('https://api.github.com/repos/nixiwebbusiness-maker/LUMINA-_LUXE/contents/data.json');
                    const gitData = await response.json();
                    
                    const encodedContent = btoa(unescape(encodeURIComponent(JSON.stringify(systemDb, null, 2))));
                    
                    const updateResponse = await fetch('/api/update', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ 
                            content: encodedContent, 
                            sha: gitData.sha 
                        })
                    });
                    
                    if (updateResponse.ok) {
                        alert("GLOBAL STATUS: Deployment Completed.");
                        window.location.reload();
                    }
                } catch (fail) {
                    alert("GLOBAL STATUS: Sync Failed.");
                } finally {
                    setIsSyncing(false);
                }
            };

            // DATA VALIDATION BEFORE RENDER
            if (!systemDb) {
                return (
                    <div className="h-screen flex flex-col items-center justify-center bg-white space-y-10">
                        <div className="serif-font text-[12rem] italic animate-pulse text-mahogany">L</div>
                        <div className="text-[12px] font-black uppercase tracking-[1.5em] opacity-30">Lumina OS Loading...</div>
                    </div>
                );
            }

            return (
                <div className="app-main-wrapper">
                    {isAuth ? (
                        /* ================================================================================
                           13. ADMIN OPERATING SYSTEM (DETAILED INTERFACE)
                           ================================================================================
                        */
                        <div className="admin-canvas">
                            <div className="max-w-7xl mx-auto">
                                
                                {/* HEADER DASHBOARD */}
                                <div className="admin-nav-panel animate-master-entry">
                                    <div className="flex flex-col gap-2">
                                        <h1 className="serif-font text-7xl font-black text-mahogany italic">Core Editor</h1>
                                        <p className="text-[11px] font-black uppercase text-rose-gold tracking-[1em]">Enterprise Control Suite v30.0</p>
                                    </div>
                                    <button 
                                        onClick={() => setIsAuth(false)} 
                                        className="btn-brand-mahogany"
                                    >
                                        Exit to Live Site
                                    </button>
                                </div>

                                {/* SECTION 1: IDENTITY & NAVIGATION LABELS */}
                                <div className="admin-section-container">
                                    <h3 className="text-rose-gold text-[13px] font-black tracking-[1.2em] uppercase mb-20 border-b border-gray-100 pb-10">01. Identity & Navigation Protocol</h3>
                                    <div className="grid lg:grid-cols-2 gap-32">
                                        <div className="space-y-10">
                                            <div className="group">
                                                <label className="admin-field-label-text !mt-0">Official Business Identity</label>
                                                <input 
                                                    className="admin-input-premium-box" 
                                                    value={systemDb.brand_name} 
                                                    onChange={e => setSystemDb({...systemDb, brand_name: e.target.value})} 
                                                />
                                            </div>
                                            <div>
                                                <label className="admin-field-label-text">Brand Signature (Logo Asset)</label>
                                                <div className="bg-gray-50/50 p-16 rounded-[50px] border-4 border-dashed border-gray-100 flex items-center justify-between">
                                                    <input 
                                                        type="file" 
                                                        onChange={e => syncAssetToCloud(e, (url) => setSystemDb({...systemDb, logo: url}))}
                                                        className="text-[11px] font-black"
                                                    />
                                                    {systemDb.logo && <img src={systemDb.logo} className="h-20 object-contain shadow-xl" />}
                                                </div>
                                            </div>
                                        </div>
                                        <div className="bg-gray-50/80 p-20 rounded-[60px] border border-gray-100">
                                            <p className="text-[12px] font-black text-rose-gold uppercase tracking-[0.5em] mb-12">Website Menu Configuration</p>
                                            <div className="space-y-8">
                                                <div>
                                                    <label className="text-[10px] font-black uppercase text-gray-400 mb-4 block">Section One Title</label>
                                                    <input className="admin-input-premium-box" value={systemDb.nav_configuration.experience_label} onChange={e => setSystemDb({...systemDb, nav_configuration: {...systemDb.nav_configuration, experience_label: e.target.value}})} />
                                                </div>
                                                <div>
                                                    <label className="text-[10px] font-black uppercase text-gray-400 mb-4 block">Section Two Title</label>
                                                    <input className="admin-input-premium-box" value={systemDb.nav_configuration.pricing_label} onChange={e => setSystemDb({...systemDb, nav_configuration: {...systemDb.nav_configuration, pricing_label: e.target.value}})} />
                                                </div>
                                                <div>
                                                    <label className="text-[10px] font-black uppercase text-gray-400 mb-4 block">Section Three Title</label>
                                                    <input className="admin-input-premium-box" value={systemDb.nav_configuration.sanctuary_label} onChange={e => setSystemDb({...systemDb, nav_configuration: {...systemDb.nav_configuration, sanctuary_label: e.target.value}})} />
                                                </div>
                                                <div>
                                                    <label className="text-[10px] font-black uppercase text-gray-400 mb-4 block">Section Four Title</label>
                                                    <input className="admin-input-premium-box" value={systemDb.nav_configuration.gallery_label} onChange={e => setSystemDb({...systemDb, nav_configuration: {...systemDb.nav_configuration, gallery_label: e.target.value}})} />
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* SECTION 2: HERO CINEMATICS */}
                                <div className="admin-section-container">
                                    <h3 className="text-rose-gold text-[13px] font-black tracking-[1.2em] uppercase mb-20 border-b border-gray-100 pb-10">02. Cinematic Hero Billboard</h3>
                                    <div className="grid lg:grid-cols-2 gap-32">
                                        <div className="space-y-10">
                                            <label className="admin-field-label-text !mt-0">Main Billboard Statement</label>
                                            <input className="admin-input-premium-box" value={systemDb.hero_unit.main_title} onChange={e => setSystemDb({...systemDb, hero_unit: {...systemDb.hero_unit, main_title: e.target.value}})} />
                                            <label className="admin-field-label-text">Secondary Slogan Narrative</label>
                                            <input className="admin-input-premium-box" value={systemDb.hero_unit.sub_title} onChange={e => setSystemDb({...systemDb, hero_unit: {...systemDb.hero_unit, sub_title: e.target.value}})} />
                                        </div>
                                        <div className="text-center">
                                            <label className="admin-field-label-text !mt-0">Cinematic Backdrop Image</label>
                                            <div className="border-4 border-dashed border-gray-100 p-16 rounded-[60px] bg-gray-50/50">
                                                <input type="file" onChange={e => syncAssetToCloud(e, (url) => setSystemDb({...systemDb, hero_unit: {...systemDb.hero_unit, background_image: url}}))} className="text-[11px] mb-12" />
                                                {systemDb.hero_unit.background_image && <img src={systemDb.hero_unit.background_image} className="w-full h-[350px] object-cover rounded-[50px] shadow-2xl" />}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* SECTION 3: SERVICE MATRIX (RITUALS MANAGER) */}
                                <div className="admin-section-container">
                                    <div className="flex justify-between items-center mb-24 border-b border-gray-100 pb-12">
                                        <h3 className="text-rose-gold text-[13px] font-black tracking-[1.2em] uppercase">03. Ritual Matrix & Price Logic</h3>
                                        <button 
                                            onClick={() => {
                                                const title = prompt("New Ritual Collection Name:");
                                                if(title) setSystemDb({...systemDb, service_matrix: {...systemDb.service_matrix, [title]: []}});
                                            }}
                                            className="bg-black text-white px-14 py-6 rounded-[35px] text-[12px] font-black uppercase tracking-[0.4em] hover:bg-rose-gold transition-colors"
                                        >
                                            + Expand Matrix
                                        </button>
                                    </div>

                                    {Object.keys(systemDb.service_matrix).map((collectionName) => (
                                        <div key={collectionName} className="mb-32 bg-gray-50/40 p-20 rounded-[80px] border border-gray-100">
                                            <div className="flex justify-between items-center mb-20 border-b border-gray-200 pb-10">
                                                <h4 className="serif-font text-6xl font-black italic text-mahogany">{collectionName}</h4>
                                                <button 
                                                    onClick={() => {
                                                        if(confirm("Permanently deconstruct this entire collection?")) {
                                                            let update = {...systemDb}; delete update.service_matrix[collectionName]; setSystemDb(update);
                                                        }
                                                    }}
                                                    className="text-red-400 font-black text-[11px] uppercase tracking-widest"
                                                >
                                                    Purge Collection
                                                </button>
                                            </div>

                                            <div className="grid gap-20">
                                                {systemDb.service_matrix[collectionName].map((item, rIndex) => (
                                                    <div key={rIndex} className="bg-white p-20 rounded-[60px] shadow-sm border border-gray-100 relative group transition-all hover:shadow-2xl">
                                                        <div className="grid lg:grid-cols-3 gap-20">
                                                            <div className="lg:col-span-2 space-y-10">
                                                                <div className="grid md:grid-cols-2 gap-10">
                                                                    <div>
                                                                        <label className="admin-field-label-text !mt-0">Ritual Label</label>
                                                                        <input className="admin-input-premium-box" value={item.name} onChange={e => {
                                                                            let d = {...systemDb}; d.service_matrix[collectionName][rIndex].name = e.target.value; setSystemDb(d);
                                                                        }} />
                                                                    </div>
                                                                    <div>
                                                                        <label className="admin-field-label-text !mt-0">Valuation (Price)</label>
                                                                        <input className="admin-input-premium-box" value={item.price} onChange={e => {
                                                                            let d = {...systemDb}; d.service_matrix[collectionName][rIndex].price = e.target.value; setSystemDb(d);
                                                                        }} />
                                                                    </div>
                                                                </div>
                                                                <label className="admin-field-label-text">Narrative Description</label>
                                                                <textarea className="admin-input-premium-box h-48 pt-8" value={item.desc} onChange={e => {
                                                                    let d = {...systemDb}; d.service_matrix[collectionName][rIndex].desc = e.target.value; setSystemDb(d);
                                                                }} />
                                                            </div>
                                                            <div className="text-center">
                                                                <label className="admin-field-label-text !mt-0">Visual Descriptor</label>
                                                                <input type="file" onChange={e => syncAssetToCloud(e, (url) => {
                                                                    let d = {...systemDb}; d.service_matrix[collectionName][rIndex].img = url; setSystemDb(d);
                                                                })} className="text-[11px] mb-12" />
                                                                {item.img && <img src={item.img} className="w-full aspect-square object-cover rounded-[50px] shadow-2xl transition-transform group-hover:scale-105" />}
                                                            </div>
                                                        </div>
                                                        <button 
                                                            onClick={() => {
                                                                let d = {...systemDb}; d.service_matrix[collectionName].splice(rIndex, 1); setSystemDb(d);
                                                            }}
                                                            className="absolute top-12 right-12 text-gray-200 hover:text-red-500 font-black text-5xl transition-colors"
                                                        >
                                                            ✕
                                                        </button>
                                                    </div>
                                                ))}
                                                <button 
                                                    onClick={() => {
                                                        let d = {...systemDb};
                                                        d.service_matrix[collectionName].push({ name: "Untitled Ritual", price: "$0.00", desc: "", img: "" });
                                                        setSystemDb(d);
                                                    }}
                                                    className="w-full py-12 border-4 border-dashed border-gray-200 rounded-[60px] text-gray-300 font-black uppercase text-[15px] hover:border-rose-gold hover:text-rose-gold transition-all duration-1000"
                                                >
                                                    + Integrate New Asset into Matrix
                                                </button>
                                            </div>
                                        </div>
                                    ))}
                                </div>

                                {/* SECTION 4: THE SANCTUARY SEGMENT */}
                                <div className="admin-section-container">
                                    <h3 className="text-rose-gold text-[13px] font-black tracking-[1.2em] uppercase mb-20 border-b border-gray-100 pb-10">04. The Sanctuary Narrative</h3>
                                    <div className="grid lg:grid-cols-2 gap-32">
                                        <div>
                                            <label className="admin-field-label-text !mt-0">Institutional Philosophy Text</label>
                                            <textarea 
                                                className="admin-textarea-premium-box pt-12" 
                                                value={systemDb.about_segment.narrative} 
                                                onChange={e => setSystemDb({...systemDb, about_segment: {...systemDb.about_segment, narrative: e.target.value}})}
                                            ></textarea>
                                        </div>
                                        <div>
                                            <label className="admin-field-label-text !mt-0">Sanctuary Atmospheric Visual</label>
                                            <div className="border-4 border-dashed border-gray-100 p-20 rounded-[80px] bg-gray-50/50 text-center">
                                                <input 
                                                    type="file" 
                                                    onChange={e => syncAssetToCloud(e, (url) => setSystemDb({...systemDb, about_segment: {...systemDb.about_segment, visual: url}}))} 
                                                    className="text-[11px] mb-12" 
                                                />
                                                {systemDb.about_segment.visual && <img src={systemDb.about_segment.visual} className="w-full aspect-[4/5] object-cover rounded-[70px] shadow-2xl grayscale hover:grayscale-0 transition-all duration-[3s]" />}
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                {/* SECTION 5: GALLERY ARCHIVE */}
                                <div className="admin-section-container">
                                    <h3 className="text-rose-gold text-[13px] font-black tracking-[1.2em] uppercase mb-20 border-b border-gray-100 pb-10">05. Visual Media Archive</h3>
                                    <div className="grid grid-cols-2 md:grid-cols-5 gap-16 mb-20">
                                        {systemDb.gallery_archive.map((imagePath, gIdx) => (
                                            <div key={gIdx} className="relative group">
                                                <img src={imagePath} className="h-64 w-full object-cover rounded-[50px] shadow-lg border border-gray-50 transition-all group-hover:brightness-50" />
                                                <button 
                                                    onClick={() => {
                                                        let d = {...systemDb}; d.gallery_archive.splice(gIdx, 1); setSystemDb(d);
                                                    }}
                                                    className="absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 text-white font-black text-6xl transition-opacity"
                                                >
                                                    ✕
                                                </button>
                                            </div>
                                        ))}
                                        <div className="h-64 border-4 border-dashed border-gray-200 rounded-[50px] flex flex-col items-center justify-center text-gray-200 relative overflow-hidden bg-gray-50 group hover:border-rose-gold transition-colors">
                                            <input 
                                                type="file" 
                                                onChange={e => syncAssetToCloud(e, (url) => setSystemDb({...systemDb, gallery_archive: [...systemDb.gallery_archive, url]}))} 
                                                className="absolute inset-0 opacity-0 cursor-pointer" 
                                            />
                                            <span className="text-7xl font-thin group-hover:text-rose-gold">+</span>
                                            <span className="text-[11px] font-black uppercase mt-5 group-hover:text-rose-gold">Add Entry</span>
                                        </div>
                                    </div>
                                </div>

                                {/* SECTION 6: FOOTER INFRASTRUCTURE */}
                                <div className="admin-section-container">
                                    <h3 className="text-rose-gold text-[13px] font-black tracking-[1.2em] uppercase mb-20 border-b border-gray-100 pb-10">06. Footer Meta & Protocols</h3>
                                    <div className="grid lg:grid-cols-3 gap-16">
                                        <div>
                                            <label className="admin-field-label-text !mt-0">WhatsApp Protocol ID</label>
                                            <input className="admin-input-premium-box" value={systemDb.footer_data.whatsapp_id} onChange={e => setSystemDb({...systemDb, footer_data: {...systemDb.footer_data, whatsapp_id: e.target.value}})} />
                                            <label className="admin-field-label-text">Institutional Mark (Copyright)</label>
                                            <input className="admin-input-premium-box" value={systemDb.footer_data.copyright_text} onChange={e => setSystemDb({...systemDb, footer_data: {...systemDb.footer_data, copyright_text: e.target.value}})} />
                                        </div>
                                        <div>
                                            <label className="admin-field-label-text !mt-0">Physical Hub Address</label>
                                            <textarea className="admin-input-premium-box h-40 pt-10" value={systemDb.footer_data.physical_address} onChange={e => setSystemDb({...systemDb, footer_data: {...systemDb.footer_data, physical_address: e.target.value}})}></textarea>
                                        </div>
                                        <div>
                                            <label className="admin-field-label-text !mt-0">Operational Windows (Hours)</label>
                                            <input className="admin-input-premium-box" value={systemDb.footer_data.working_hours} onChange={e => setSystemDb({...systemDb, footer_data: {...systemDb.footer_data, working_hours: e.target.value}})} />
                                        </div>
                                    </div>
                                </div>

                                {/* GLOBAL PUBLISH INTERFACE */}
                                <button 
                                    onClick={deployToProduction} 
                                    disabled={isSyncing}
                                    className="btn-deploy-global"
                                >
                                    {isSyncing ? "SYNCING..." : "COMMIT GLOBAL UPDATE"}
                                </button>
                            </div>
                        </div>
                    ) : (
                        /* ================================================================================
                           14. WEBSITE VISUAL LAYER (HIGH-END ARCHITECTURE)
                           ================================================================================
                        */
                        <div className="website-viewport animate-master-entry">
                            
                            {/* ELITE NAVIGATION PROTOCOL */}
                            <nav className="fixed top-0 w-full z-[1000] bg-white/95 backdrop-blur-3xl border-b p-12 px-24 flex justify-between items-center transition-all duration-1000">
                                <div 
                                    onClick={(e) => e.shiftKey && prompt("ACCESS AUTHORIZATION:") === MASTER_ACCESS_KEY && setIsAuth(true)}
                                    className="cursor-pointer group flex items-center"
                                >
                                    {systemDb.logo ? (
                                        <img src={systemDb.logo} className="h-16 group-hover:scale-110 transition-transform duration-[1s]" alt="Logo" />
                                    ) : (
                                        <h1 className="serif-font text-[4rem] font-black text-mahogany tracking-tighter uppercase leading-none">{systemDb.brand_name}</h1>
                                    )}
                                </div>
                                <div className="hidden lg:flex space-x-24 text-[12px] font-black uppercase tracking-[1em] text-mahogany/40">
                                    <a href="#experience" className="hover:text-rose-gold transition-colors duration-500">{systemDb.nav_configuration.experience_label}</a>
                                    <a href="#rituals" className="hover:text-rose-gold transition-colors duration-500">{systemDb.nav_configuration.pricing_label}</a>
                                    <a href="#sanctuary" className="hover:text-rose-gold transition-colors duration-500">{systemDb.nav_configuration.sanctuary_label}</a>
                                    <a href="#archive" className="hover:text-rose-gold transition-colors duration-500">{systemDb.nav_configuration.gallery_label}</a>
                                </div>
                                <button className="btn-brand-mahogany py-6 px-16 text-[11px] tracking-[0.6em]">Reserve Hub</button>
                            </nav>

                            {/* HERO CINEMATIC HEADER */}
                            <header className="h-screen relative flex items-center justify-center text-center overflow-hidden">
                                <div className="absolute inset-0 w-full h-full overflow-hidden">
                                    <img src={systemDb.hero_unit.background_image} className="absolute inset-0 w-full h-full object-cover animate-slow-zoom" alt="Hero Background" />
                                </div>
                                <div className="absolute inset-0 bg-black/50"></div>
                                <div className="relative text-white p-12 max-w-[110rem]">
                                    <h1 className="serif-font text-[12rem] md:text-[20rem] italic leading-[0.7] mb-20 drop-shadow-[0_40px_100px_rgba(0,0,0,0.6)]">{systemDb.hero_unit.main_title}</h1>
                                    <p className="tracking-[2.5em] uppercase text-sm md:text-xl font-black opacity-80 drop-shadow-2xl">{systemDb.hero_unit.sub_title}</p>
                                </div>
                            </header>

                            {/* SECTION ONE: THE EXPERIENCE NAVIGATOR */}
                            <section id="experience" className="py-80 px-24 max-w-[2000px] mx-auto text-center">
                                <h2 className="serif-font text-[11rem] md:text-[16rem] mb-48 web-title-large italic">{systemDb.nav_configuration.experience_label}</h2>
                                
                                <div className="flex overflow-x-auto hide-scrollbar gap-28 border-b border-gray-100 mb-48 justify-center">
                                    {Object.keys(systemDb.service_matrix).map(matrixKey => (
                                        <button 
                                            key={matrixKey} 
                                            onClick={() => {setActiveCategory(matrixKey); setFocusedRitual(systemDb.service_matrix[matrixKey][0]);}}
                                            className={`pb-20 text-[16px] font-black uppercase tracking-[1.2em] transition-all whitespace-nowrap ${activeCategory === matrixKey ? 'text-rose-gold border-b-8 border-rose-gold scale-110' : 'opacity-20 hover:opacity-100'}`}
                                        >
                                            {matrixKey}
                                        </button>
                                    ))}
                                </div>

                                <div className="grid lg:grid-cols-12 gap-48 items-start">
                                    <div className="lg:col-span-4 space-y-20 max-h-[1100px] overflow-y-auto hide-scrollbar pr-20">
                                        {systemDb.service_matrix[activeCategory]?.map((ritual, idx) => (
                                            <div 
                                                key={idx} 
                                                onClick={() => setFocusedRitual(ritual)} 
                                                className={`p-24 rounded-[7rem] flex justify-between items-center cursor-pointer transition-all duration-[1.2s] ${focusedRitual?.name === ritual.name ? 'bg-white shadow-[0_120px_200px_-50px_rgba(74,14,14,0.2)] border-l-[30px] border-rose-gold scale-[1.1]' : 'bg-gray-50/50 opacity-40 hover:opacity-100'}`}
                                            >
                                                <div className="text-left">
                                                    <h4 className="serif-font text-6xl font-bold uppercase tracking-tighter text-mahogany">{ritual.name}</h4>
                                                    <p className="text-[18px] font-black text-rose-gold mt-8 uppercase tracking-widest">{ritual.price}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                    <div className="lg:col-span-8">
                                        {focusedRitual && (
                                            <div className="grid md:grid-cols-2 gap-48 items-center bg-white p-32 md:p-48 rounded-[9rem] shadow-[0_150px_300px_-80px_rgba(0,0,0,0.1)] border border-gray-50">
                                                <div className="relative group overflow-hidden rounded-[7rem]">
                                                    <img src={focusedRitual.img || 'https://via.placeholder.com/1500'} className="w-full aspect-[4/5] object-cover rounded-[7rem] shadow-2xl transition-transform duration-[3s] group-hover:scale-110" />
                                                </div>
                                                <div className="text-left">
                                                    <h3 className="serif-font text-[7.5rem] mb-20 italic leading-tight text-mahogany font-bold">{focusedRitual.name}</h3>
                                                    <p className="text-8xl font-black text-rose-gold mb-20 tracking-tighter">{focusedRitual.price}</p>
                                                    <p className="text-5xl serif-font italic opacity-70 mb-28 leading-[1.8] whitespace-pre-wrap">{focusedRitual.desc}</p>
                                                    <button 
                                                        onClick={() => window.open(`https://wa.me/${systemDb.footer_data.whatsapp_id}`)}
                                                        className="btn-brand-mahogany w-full py-14 text-[16px] tracking-[1em]"
                                                    >
                                                        Finalize Consult
                                                    </button>
                                                </div>
                                            </div>
                                        )}
                                    </div>
                                </div>
                            </section>

                            {/* SECTION TWO: DETAILED PRICE LISTING */}
                            <section id="rituals" className="py-80 bg-[#FBF9F6] px-24">
                                <div className="max-w-7xl mx-auto text-center">
                                    <h2 className="serif-font text-[11rem] md:text-[16rem] mb-72 web-title-large italic">{systemDb.nav_configuration.pricing_label}</h2>
                                    {Object.keys(systemDb.service_matrix).map(categoryName => (
                                        <div key={categoryName} className="mb-80 last:mb-0">
                                            <div className="flex items-center gap-24 mb-40">
                                                <div className="h-[4px] flex-1 bg-rose-gold/30"></div>
                                                <h3 className="text-rose-gold uppercase text-[20px] font-black tracking-[2em] whitespace-nowrap">{categoryName}</h3>
                                                <div className="h-[4px] flex-1 bg-rose-gold/30"></div>
                                            </div>
                                            <div className="grid gap-40">
                                                {systemDb.service_matrix[categoryName].map((item, i) => (
                                                    <div key={i} className="flex flex-col md:flex-row justify-between items-start md:items-end border-b border-rose-gold/25 pb-24 text-left group hover:border-rose-gold transition-colors duration-[1.5s]">
                                                        <div className="max-w-6xl mb-14 md:mb-0">
                                                            <h4 className="serif-font text-[5.5rem] italic text-mahogany font-bold group-hover:text-rose-gold transition-colors leading-none">{item.name}</h4>
                                                            <p className="text-[16px] uppercase opacity-50 tracking-widest mt-12 leading-relaxed font-bold">{item.desc}</p>
                                                        </div>
                                                        <span className="font-black text-7xl text-mahogany tracking-tighter whitespace-nowrap md:ml-48">{item.price}</span>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* SECTION THREE: THE SANCTUARY (STORY & PHILOSOPHY) */}
                            <section id="sanctuary" className="py-96 bg-mahogany text-white px-24 relative overflow-hidden">
                                <div className="max-w-[110rem] mx-auto text-center relative z-10">
                                    {/* TITLE FIXED TO DARK MAHOGANY AS REQUESTED BY SYSTEM STYLE */}
                                    <h2 className="serif-font text-[11rem] md:text-[17rem] mb-64 italic font-bold sanctuary-title-fix text-white">{systemDb.nav_configuration.sanctuary_label}</h2>
                                    
                                    <div className="grid lg:grid-cols-2 gap-72 items-center text-left">
                                        <div className="space-y-40">
                                            {/* TEXT FIXED TO WHITE ON DARK BACKGROUND */}
                                            <p className="serif-font text-[4.2rem] md:text-[5.5rem] sanctuary-text-fix italic whitespace-pre-wrap leading-[1.4]">
                                                {systemDb.about_segment.narrative}
                                            </p>
                                            <div className="flex gap-64 pt-32 border-t border-white/20">
                                                <div className="border-l-10 border-rose-gold pl-20">
                                                    <h5 className="text-[10rem] serif-font italic text-rose-gold font-bold">40+</h5>
                                                    <p className="text-[16px] uppercase tracking-[1.2em] opacity-60 mt-8 font-black">Elite Curators</p>
                                                </div>
                                                <div className="border-l-10 border-rose-gold pl-20">
                                                    <h5 className="text-[10rem] serif-font italic text-rose-gold font-bold">25K</h5>
                                                    <p className="text-[16px] uppercase tracking-[1.2em] opacity-60 mt-8 font-black">Active Global Members</p>
                                                </div>
                                            </div>
                                        </div>
                                        <div className="relative group">
                                            <div className="absolute -inset-32 border-2 border-rose-gold/30 rounded-[12rem] -z-10 group-hover:scale-110 transition-transform duration-[3s]"></div>
                                            <img src={systemDb.about_segment.visual} className="rounded-[9rem] w-full aspect-[4/5] object-cover shadow-[0_200px_350px_-80px_rgba(0,0,0,0.8)] grayscale hover:grayscale-0 transition duration-[4s] ease-in-out" alt="Sanctuary Masterpiece" />
                                        </div>
                                    </div>
                                </div>
                            </section>

                            {/* SECTION FOUR: VISUAL ARCHIVE GALLERY */}
                            <section id="archive" className="py-96 px-24 max-w-[2400px] mx-auto text-center">
                                <h2 className="serif-font text-[11rem] md:text-[17rem] mb-80 web-title-large italic">{systemDb.nav_configuration.gallery_label}</h2>
                                <div className="masonry-grid-system">
                                    {systemDb.gallery_archive.map((asset, i) => (
                                        <div key={i} className="gallery-item-wrapper group">
                                            <img src={asset} className="w-full hover:scale-125 transition duration-[4s] ease-out cursor-none" alt="Archive Meta Asset" />
                                        </div>
                                    ))}
                                </div>
                            </section>

                            {/* ENTERPRISE FOOTER INFRASTRUCTURE */}
                            <footer className="bg-white pt-96 pb-48 px-32 border-t border-gray-100 relative">
                                <div className="max-w-[120rem] mx-auto grid lg:grid-cols-4 gap-80 border-b border-gray-100 pb-96 mb-48 text-left">
                                    <div className="col-span-2">
                                        <h4 className="serif-font text-[14rem] md:text-[18rem] text-rose-gold italic font-black mb-24 uppercase tracking-tighter leading-none">{systemDb.brand_name}</h4>
                                        <p className="text-6xl serif-font italic opacity-40 max-w-3xl leading-relaxed">{systemDb.footer_data.physical_address}</p>
                                    </div>
                                    <div className="pt-32">
                                        <h5 className="text-mahogany uppercase text-[16px] font-black mb-24 tracking-[2em]">Operational Era</h5>
                                        <p className="serif-font text-7xl italic leading-loose text-mahogany font-black">{systemDb.footer_data.working_hours}</p>
                                    </div>
                                    <div className="pt-32">
                                        <h5 className="text-mahogany uppercase text-[16px] font-black mb-24 tracking-[2em]">Direct Protocol</h5>
                                        <p className="serif-font text-7xl italic underline underline-offset-[25px] decoration-rose-gold/50 hover:text-rose-gold transition-all cursor-pointer font-black">{systemDb.footer_data.whatsapp_id}</p>
                                    </div>
                                </div>
                                <div className="flex flex-col md:flex-row justify-between items-center opacity-40 text-[16px] font-black uppercase tracking-[2em] gap-24 text-center">
                                    <p>{systemDb.footer_data.copyright_text}</p>
                                    <p className="underline underline-offset-[20px]">NIXI ENTERPRISE OS v30.0 FINAL</p>
                                </div>
                            </footer>
                        </div>
                    )}
                </div>
            );
        }

        /* ========================================================================================
           15. SYSTEM BOOTSTRAP (MOUNTING THE ENGINE)
           ========================================================================================
        */
        const targetElement = document.getElementById('root');
        const rootInstance = ReactDOM.createRoot(targetElement);
        rootInstance.render(<EliteApp />);

    </script>
</body>
</html>
